# git-rescribe demo file
# This shows the format for rewriting git history with full metadata control

commits:
  # First commit - specify external parent
  - author:
      date: 2025-01-15T10:30:00-05:00
      identity: Alice Developer <alice@example.com>
    committer:
      date: 2025-01-15T10:30:00-05:00
      identity: Alice Developer <alice@example.com>
    content: tree:a1b2c3d4e5f6789...
    message: |
      Add initial project structure

      Created basic setup with configuration files and
      main application entry point.
    parents:
      - abc1234 # External commit (base)

  # Second commit - uses previous commit as parent
  - author:
      date: 2025-01-15T11:00:00-05:00
      identity: Alice Developer <alice@example.com>
    committer:
      date: 2025-01-15T11:00:00-05:00
      identity: Alice Developer <alice@example.com>
    content: diff:def5678 # Apply diff from original commit
    message: |
      Simplify setup by removing boilerplate
    parents:
      - previous # Previous commit in this list

  # Third commit - use commit tree directly
  - author:
      date: 2025-01-15T12:00:00-05:00
      identity: Alice Developer <alice@example.com>
    committer:
      date: 2025-01-15T12:00:00-05:00
      identity: Alice Developer <alice@example.com>
    content: commit:ghi9012 # Use tree from this commit
    message: |
      Improve error handling
    parents:
      - previous

  # Branch 1 - Alice's work
  - author:
      date: 2025-01-15T14:00:00-05:00
      identity: Alice Developer <alice@example.com>
    committer:
      date: 2025-01-15T14:00:00-05:00
      identity: Alice Developer <alice@example.com>
    content: tree:f7g8h9i0j1k2...
    message: |
      Add feature X
    parents:
      - rewritten:jkl3456 # Branch from rewritten version of this commit

  # Branch 2 - Bob's work (parallel to branch 1)
  - author:
      date: 2025-01-15T14:30:00-05:00
      identity: Bob Contributor <bob@example.com>
    committer:
      date: 2025-01-15T14:30:00-05:00
      identity: Bob Contributor <bob@example.com>
    content: diff:mno7890
    message: |
      Add feature Y
    parents:
      - rewritten:jkl3456 # Same parent = parallel branch

  # Merge commit
  - author:
      date: 2025-01-15T15:00:00-05:00
      identity: Alice Developer <alice@example.com>
    committer:
      date: 2025-01-15T15:00:00-05:00
      identity: Alice Developer <alice@example.com>
    content: tree:pqr4567stu8901...
    message: |
      Merge features X and Y
    parents:
      - rewritten:vwx2345 # First parent
      - rewritten:mno7890 # Second parent (creates merge)
